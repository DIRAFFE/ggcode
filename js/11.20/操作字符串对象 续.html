<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <script>
      /**
       * 【todolist数量】
       * @param {string} todos
       */
      const getCountTodos = (todos) => {
        return todos.split(",").length;
      };

      // 测试用例
      console.log(getCountTodos("Laundry, Wash dishes, Clean table")); // 3
      console.log(getCountTodos("Feed cat, Degrease bike chain")); // 2

      /*
              去掉字符串str中，连续重复的地方
            */
      function removeRepetition(str) {
        // do something
        var strArr = str.split("");
        var rebuildArr = new Array();
        for (i = 0; i < strArr.length; i++) {
          if (rebuildArr[rebuildArr.length - 1] !== strArr[i]) {
            rebuildArr.push(strArr[i]);
          }
        }
        return rebuildArr.join("");
      }

      // 测试用例
      console.log(removeRepetition("aaa")); // ->a
      console.log(removeRepetition("abbba")); // ->aba
      console.log(removeRepetition("aabbaabb")); // ->abab
      console.log(removeRepetition("")); // ->
      console.log(removeRepetition("abc")); // ->abc

      /**
       * 【回文字符串判断】
       * @@param {string} str
       * @return {Boolean} 如果是返回 true，如果不是回文字符串 返回 false
       */
      function isPalindromicString(str) {
        // do something
        var strArr = str.split("");
        var fir = 0;
        var lar = strArr.length - 1;
        while (fir <= lar) {
          if (strArr[fir] == strArr[lar]) {
            fir++;
            lar--;
            if (fir > lar) {
              return true;
            }
          } else {
            return false;
          }
        }
      }

      // 测试用例
      console.log(isPalindromicString("aaa")); // ->true
      console.log(isPalindromicString("madam")); // ->true
      console.log(isPalindromicString("hello")); // ->false

      //打字机效果需求说明

      /* 在输入框中输入需要实现打字机效果的文本
        实现原理使用定时器间隔一段时间递增地截取字符串的长度
        点击 button 实现打字机效果的生成，将文本输出到 id 为 showText 的标签中 */
      function generateTypeEffect() {
        //这里实现打字机效果
        //将内容显示在h2中
        var content = document.getElementById("inputText").value;
        var contentArray = content.split("");
        console.log(contentArray);
        var output = "";

        for (i = 0; i < contentArray.length; i++) {
          var output = output + contentArray[i];
          setTimeout(function () {
            document.getElementById("showText").innerHTML = output;
          }, 3000);
        }
      }
    </script>
  </head>
  <body>
    <label>请输入文本:</label><input type="text" id="inputText" />
    <button onclick="generateTypeEffect()">生成打字效果</button>
    <h2 id="showText"></h2>
  </body>
</html>
